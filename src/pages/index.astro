---
import { useSanityClient } from '@sanity/astro';
import About from '../components/home/About.astro';
import Cta from '../components/home/Cta.astro';
import Expertise from '../components/home/Expertise.astro';
import Hero from '../components/home/Hero.astro';
import Services from '../components/home/Services.astro';
import Testimonials from '../components/home/Testimonials.astro';
import Layout from '../layouts/Layout.astro';

const query = `*[_type == "page" && slug.current == "home-page"]`;
const heroData = await useSanityClient().fetch(query);

---

<Layout
  description={heroData[0]?.body[0]?.children[0]?.text}
  title={heroData[0]?.hero.title}
>
  <Hero />
  <Services />
  <Expertise />
  <About />
  <Testimonials />
  <Cta />
</Layout>
